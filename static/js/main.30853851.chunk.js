(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},19:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(3),r=n.n(i),s=n(1),c=n.n(s),o=n(4),u=n(5),d=n(6),h=n(9),m=n(7),f=n(10),y=n(8),v=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={currentFamily:null,currentModel:null,index:null},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"getFamilyByLabel",value:function(e){for(var t in this.state.index)if(this.state.index[t].label===e)return t;return null}},{key:"getModelByLabel",value:function(e){return this.state.index[this.state.currentFamily].models.find(function(t){return t.label===e})}},{key:"handleFamilyChange",value:function(e){var t=this.getFamilyByLabel(e.target.value);if(t!==this.state.currentFamily){var n=this.state.index[t].models[0];this.setState({currentFamily:t,currentModel:n}),window.location.search="?model=".concat(t,"-").concat(n.id)}}},{key:"handleModelChange",value:function(e){var t=this.getModelByLabel(e.target.value);t.id!==this.state.currentModel.id&&(this.setState({currentModel:t}),window.location.search="?model=".concat(this.state.currentFamily,"-").concat(t.id))}},{key:"componentWillMount",value:function(){var e=Object(o.a)(c.a.mark(function e(){var t,n,a=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./json/index.json");case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=null;case 10:return n=e.t0,e.abrupt("return",this.setState({index:n},function(){return a.configL2D()}));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"configL2D",value:function(){var e=new URLSearchParams(window.location.search).get("model"),n=Object.keys(this.state.index)[0],a=this.state.index[n].models[0];if(e){var l=e.split("-");l[0]&&l[1]&&(n=l[0],a=this.state.index[n].models.find(function(e){return e.id===l[1]}))}return this.setState({currentFamily:n,currentModel:a}),t.initL2D("./models/".concat(n,"/").concat(a.id),a.prefix,this.state.index[n].width,this.state.index[n].height,this.state.index[n].hOffset,this.state.index[n].vOffset,this.state.index[n].scale,"l2d-".concat(n,"-").concat(a.id))}},{key:"renderFamilySelector",value:function(){var e=this,t=this.state.index[this.state.currentFamily].label;return l.a.createElement("p",null,l.a.createElement("label",{htmlFor:"select"},"Family:"),l.a.createElement("select",{value:t,className:"full",id:"selectf",onChange:function(t){return e.handleFamilyChange(t)}},Object.keys(this.state.index).map(function(t){return l.a.createElement("option",{key:t},e.state.index[t].label)})))}},{key:"renderModelSelector",value:function(){var e=this;return l.a.createElement("p",null,l.a.createElement("label",{htmlFor:"select"},"Model:"),l.a.createElement("select",{value:this.state.currentModel.label,className:"full",id:"selectm",onChange:function(t){return e.handleModelChange(t)}},this.state.index[this.state.currentFamily].models.map(function(e){return l.a.createElement("option",{key:e.id},e.label)})))}},{key:"render",value:function(){return this.state.index&&this.state.index[this.state.currentFamily]?l.a.createElement("div",null,l.a.createElement("h1",null,"Cardinal"),l.a.createElement("p",null,"Live2D x ReactJS!"),l.a.createElement("h2",null,"Configuration"),l.a.createElement("form",null,l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Settings"),this.renderFamilySelector(),this.renderModelSelector()))):l.a.createElement("div",null,l.a.createElement("h1",null,"Loading..."))}}],[{key:"initL2D",value:function(e,t,n,a,l,i,r,s){t?t+=".":t="";var c="".concat(e,"/").concat(t,"model.json");y.L2Dwidget.init({model:{jsonPath:c,scale:r},display:{width:n,height:a,hOffset:l,vOffset:i},name:{canvas:s}})}}]),t}(l.a.Component);n(18);r.a.render(l.a.createElement(v,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.30853851.chunk.js.map